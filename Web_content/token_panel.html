<!DOCTYPE html>
<!-- Designined by CodingLab | www.youtube.com/codinglabyt -->
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <!-- Boxicons CDN Link -->
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

  <section class="home-section1">
    <nav>
      <div class="sidebar-button">
        <i class='bx bx-wifi-0'></i>
        <span class="dashboard"><b>Token</b></span>
      </div>
      <div class="profile-details">
        <span class="admin_name"></span>
      </div>
    </nav>
    <div class="circle">
      <ul>
        <li><button class="btn btn-primary btn-circle btn-sm" id="1">1</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="2">2</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="3">3</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="4">4</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="5">5</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="6">6</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="7">7</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="8">8</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="9">9</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="10">10</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="11">11</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="12">12</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="13">13</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="14">14</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="15">15</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="16">16</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="17">17</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="18">18</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="19">19</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="20">20</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="21">21</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="22">22</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="23">23</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="24">24</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="25">25</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="26">26</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="27">27</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="28">28</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="29">29</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="30">30</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="31">31</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="32">32</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="33">33</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="34">34</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="35">35</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="36">36</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="37">37</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="38">38</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="39">39</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="40">40</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="41">41</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="42">42</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="43">43</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="44">44</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="45">45</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="46">46</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="47">47</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="48">48</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="49">49</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="50">50</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="51">51</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="52">52</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="53">53</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="54">54</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="55">55</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="56">56</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="57">57</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="58">58</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="59">59</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="60">60</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="61">61</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="62">62</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="63">63</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="64">64</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="65">65</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="66">66</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="67">67</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="68">68</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="69">69</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="70">70</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="71">71</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="72">72</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="73">73</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="74">74</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="75">75</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="76">76</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="77">77</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="78">78</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="79">79</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="80">80</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="81">81</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="82">82</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="83">83</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="84">84</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="85">85</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="86">86</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="87">87</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="88">88</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="89">89</button></li>
        <li><button class="btn btn-primary btn-circle btn-sm" id="90">90</button></li>
      </ul>
      <div class="kkk">
        <p>Housie</p>
        <div class="boxx">
          <div class="token" id="token" style="font-size: 5vh; text-align: center;margin-top: 90px;">
          </div>
        </div>
        <div>
          <button class="boxbtn"><i class='bx bxs-gift'></i>current number</button>
        </div>
        <div>
          <button class="boxbtn" id="intgration" onclick="deactivate()"><i class='bx bxs-gift'></i></button>
        </div>
        <div id="box3">
          <div class="box3"><i class='bx bx-volume-full ' style='color:white; font-size: 28px; text-align: center;'
              id="icon1"></i></div>
          <div class="box3"><i class='bx bx-power-off' style='color:white; font-size: 28px; text-align: center;'
              id="icon2"></i></div>
          <div class="box3"><i class='bx bx-log-in' style='color:white; font-size: 28px; text-align: center;'
              id="icon3"></i></div>
        </div>
      </div>
    </div>
  </section>
  <script>
    //console.log("from token: ",arrive_token)
    for(let x in arrive_token){
      console.log(arrive_token[x])
      document.getElementById(arrive_token[x].toString()).style.backgroundColor="red";
    }
    
    function deactivate(){
      let state="true";
      console.log(state)
      if(intgration=="true"){
        state="false"
        intgration="false"
      }
      else{
        intgration="true"
      }
      console.log(state)
      $.ajax({
        
				url: "change_intgration?",
				data: { "promo": promo , "state":state },
				type: "POST",
				success: async function (data, textStatus, jqXHR) {
					console.log(data)
          
          if(data=="done" && intgration=="false"){
            document.getElementById("intgration").innerText="Massage intgration: Dectivated"
            document.getElementById("intgration").style.backgroundColor="rgb(250, 100, 100)"
          }
          else{
            document.getElementById("intgration").innerText="Massage intgration: Activated"
            document.getElementById("intgration").style.backgroundColor="rgb(113, 202, 113)"
          }
					//console.log(current_num)
				},
				error: function (jqXHR, textStatus, errorThrown) {
					console.log("not bad")
				}
			})
		}
    function get_arrived_num() {
			$.ajax({
				url: "get_arrive_num?",
				data: { "promo": promo },
				type: "POST",
				success: async function (data, textStatus, jqXHR) {
					current_num = data
					//console.log(current_num)
				},
				error: function (jqXHR, textStatus, errorThrown) {
					console.log("not bad")
				}
			})
		}
		function set_token() {
			let counter = 0
			let x = setInterval(function () {
				get_arrived_num()
				console.log(current_num)
				document.getElementById("token").innerHTML = current_num;
				//set_updated_list(data[counter])
				counter++
				if (counter >= 90) {
					clearInterval(x);
				}
			}, 5 * 1000)
		}
    document.getElementById("token").innerHTML = "loading....";
    if(intgration=="true"){
      document.getElementById("intgration").innerText="Massage intgration: Activated"
      document.getElementById("intgration").style.backgroundColor="rgb(113, 202, 113)"
    }
    else{
      document.getElementById("intgration").innerText="Massage intgration: Deactivated"
      document.getElementById("intgration").style.backgroundColor="rgb(250, 100, 100)"
    }
    get_arrived_num()
		console.log(current_num)
		document.getElementById("token").innerHTML = current_num;
    set_token()
  </script>
</body>

</html>